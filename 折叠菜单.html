<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>折叠菜单</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        ul{
            list-style: none;

        }
        a{
            text-decoration: none;
        }

        .sub-menu{
            display:none;
        }
        h3{
            cursor: pointer;
        }
    </style>
    
</head>
<body>
    <ul id="menu">
        <li>
            <h3 class="main-menu">管理员</h3>
            <ul class="sub-menu">
                <li><a href="#">001</a></li>
                <li><a href="#">002</a></li>
                <li><a href="#">003</a></li>
            </ul>
        </li>
        <li>
            <h3 class="main-menu">用户</h3>
            <ul class="sub-menu">
                <li><a href="#">001</a></li>
                <li><a href="#">002</a></li>
                <li><a href="#">003</a></li>
            </ul>
        </li>
    </ul>

    <script>
        var oMenu=document.getElementById('menu');
        var aH3 = oMenu.getElementsByTagName("h3");
        for(var i=0;i<aH3.length;i++){
            aH3[i].onclick=function () {
                if((next(this).style.display) == "block") {
                    next(this).style.display="none";
                }else{
                    next(this).style.display="block";
                }
            };

        }
        function next(elem) {
            do{
                elem=elem.nextSibling;
            }while(elem && (elem.nodeType != 1));
            return elem;
        }
        /*var aLi=oMenu.children;
        for(var i=0;i<aLi.length;i++){

            aLi[i].bflag=false;
            aLi[i].onclick=function(){
                if(this.bflag){
                    this.getElementsByTagName('ul')[0].style.display="none";
                }
                else{
                    this.getElementsByTagName('ul')[0].style.display="block";
                }
                this.bflag=!this.bflag;
            };

        }*/
       /* var aH3=oMenu.getElementsByTagName('h3');
       var aSubMenu =oMenu.getElementsByTagName('ul');
        for(var i=0;i<aH3.length;i++)
        {
            aH3[i].index=i;
            aH3[i].bfl ag=false;
            aH3[i].onclick=function(){
                if(this.bflag)
                {
                    aSubMenu[this.index].style.display="none";
                }
                else{
                    aSubMenu[this.index].style.display="block";
                }
                this.bflag=!this.bflag;
            };
        }*/
    </script>
</body>
</html>